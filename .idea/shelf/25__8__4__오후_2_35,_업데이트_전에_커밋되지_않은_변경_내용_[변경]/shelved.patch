Index: src/agentica/handlers.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { SGlobal } from \"../config/SGlobal\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport { CompilerError, CompilerWarning, CompilerResultParser } from '../parsing/compilerResultParser';\r\nimport { execSync } from \"child_process\";\r\nimport { spawnSync } from \"child_process\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nconst genAI = new GoogleGenerativeAI(SGlobal.env.GEMINI_API_KEY || \"\"); \r\n\r\n\r\n//jm hw\r\nexport function buildAfterDebugPrompt(logSummary: string, errors: CompilerError[], warnings: CompilerWarning[]): string {\r\n  const MAX_ITEMS = 3;\r\n\r\n  const formatError = (e: CompilerError, i: number) =>\r\n    `[Error ${i + 1}] (${e.severity.toUpperCase()} - ${e.type}) ${e.message}${e.file ? ` at ${e.file}:${e.line}:${e.column}` : ''}`;\r\n\r\n  const formatWarning = (w: CompilerWarning, i: number) =>\r\n    `[Warning ${i + 1}] (${w.type}) ${w.message}${w.file ? ` at ${w.file}:${w.line}:${w.column}` : ''}`;\r\n\r\n  const errorText = errors.slice(0, MAX_ITEMS).map(formatError).join('\\n');\r\n  const warningText = warnings.slice(0, MAX_ITEMS).map(formatWarning).join('\\n');\r\n\r\n  return `\r\nYou are a senior compiler engineer and static analysis expert.\r\nYour task is to analyze the compiler output and runtime log from a C/C++ program and determine whether the code has any critical problems that need to be addressed before deployment.\r\n\r\n=== Summary ===\r\n${logSummary}\r\n\r\n=== Compiler Errors ===\r\n${errorText || 'None'}\r\n\r\n=== Compiler Warnings ===\r\n${warningText || 'None'}\r\n\r\n IMPORTANT NOTES:\r\n- Do NOT hallucinate issues not supported by the log.\r\n-If no critical issues: Say clearly \"No critical issues detected\"\r\n- If issues are present: State the most likely cause and suggest a concrete fix (1â€“2 lines).\r\n- Do NOT guess beyond the given log. If something is unclear, say so briefly (e.g., \"Based on the log alone, it's unclear\").\r\n- Use Korean to response.\r\n\r\nFormat your response in the following structure:\r\n\r\n[Result] {Short message: \"Critical issue detected\" or \"No critical issues detected\"}\r\n[Reason] {Brief explanation of why (e.g., undeclared variable, safe log, etc.)}\r\n[Suggestion] {Fix or say \"No fix required\" if none needed}\r\nDo not add anything outside this format.\r\n\r\n=== Analysis Rules ===\r\n- If error type is \"undeclared\" or message contains \"undeclared\", always treat as critical.\r\n- If a warning or message contains \"memory leak\" or \"leaked\", treat it as a critical issue.\r\n- For unused variable warnings, if variable name is vague (like 'temp'), suggest renaming or removal.\r\n- If runtime log contains \"runtime error\", check if it follows a dangerous cast (e.g., int to pointer). If the code contains a dangerous cast pattern (ì˜ˆ: (char*)ì •ìˆ˜, (int*)ì •ìˆ˜ ë“±), ë°˜ë“œì‹œ Reasonì— 'dangerous cast ì˜ì‹¬'ì„ ëª…ì‹œí•˜ê³ , Suggestionì— í¬ì¸í„° ë³€í™˜ ë° ì—­ì°¸ì¡° ì½”ë“œë¥¼ ì ê²€í•˜ë¼ê³  ì•ˆë‚´í•  ê²ƒ.\r\n- If the summary or runtime log contains \"[Hint] loopCheck() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë£¨í”„ ì¡°ê±´ì„ ê²€í† í•´ë³´ì„¸ìš”.\", do NOT analyze the cause. Just output the hint exactly as the Suggestion and say \"Critical issue detected\" in Result.\r\n\r\n`.trim();\r\n///ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì•¼í•  ê±° ê°™ìœ¼ë©´ [Hint] ~~ ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”ë¼ê³  ìœ ë„ í•¨////////\r\n}\r\n\r\n/**\r\n * 1. afterDebug: ì—ëŸ¬/ê²½ê³  ë¡œê·¸ + ìš”ì•½ì„ ë°›ì•„ Gemini ë¶„ì„ ìˆ˜í–‰\r\n */\r\nexport async function afterDebug(logSummary: string, errors: CompilerError[], warnings: CompilerWarning[]): Promise<string> {\r\n  const prompt = buildAfterDebugPrompt(logSummary, errors, warnings);\r\n  const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\r\n  const result = await model.generateContent(prompt);\r\n  return result.response.text().trim();\r\n}\r\n\r\n/**\r\n * 2. afterDebugFromCode: ì½”ë“œ ì…ë ¥ â†’ ì»´íŒŒì¼ â†’ ë¡œê·¸ íŒŒì‹± â†’ Gemini ë¶„ì„ê¹Œì§€ ìë™ ìˆ˜í–‰\r\n */\r\nexport async function afterDebugFromCode(code: string): Promise<string> {\r\n  const tmpFile = path.join(\"/tmp\", `code_${Date.now()}.c`);\r\n  fs.writeFileSync(tmpFile, code);\r\n\r\n  let compileLog = \"\";\r\n\r\n  try {\r\n    // ì»´íŒŒì¼ ë‹¨ê³„ - spawnSync ì‚¬ìš©ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ stderr í™•ì‹¤íˆ ìº¡ì²˜\r\n    const compileResult = spawnSync(\"gcc\", [\r\n      \"-Wall\", \"-Wextra\", \"-Wpedantic\", \"-O2\", \"-Wdiv-by-zero\", \r\n      \"-fanalyzer\", \"-fsanitize=undefined\", \"-fsanitize=address\", tmpFile, \"-o\", \"/tmp/a.out\"\r\n    ], {\r\n      encoding: \"utf-8\",\r\n      stdio: [\"ignore\", \"pipe\", \"pipe\"]\r\n    });\r\n\r\n    // ì»´íŒŒì¼ ê²°ê³¼ ë¡œê·¸ ìˆ˜ì§‘\r\n    if (compileResult.stdout) {\r\n      compileLog += compileResult.stdout;\r\n    }\r\n    if (compileResult.stderr) {\r\n      compileLog += compileResult.stderr;\r\n    }\r\n\r\n    // ì»´íŒŒì¼ ì„±ê³µ ì‹œì—ë§Œ ì‹¤í–‰\r\n    if (compileResult.status === 0) {\r\n      compileLog += \"\\n\\n=== Runtime Output ===\\n\";\r\n      const runResult = spawnSync(\"/tmp/a.out\", [], { encoding: \"utf-8\", timeout: 1000 }); // 1ì´ˆ ì œí•œ\r\n\r\n      if (runResult.stdout) {\r\n        compileLog += runResult.stdout;\r\n      }\r\n      if (runResult.stderr) {\r\n        compileLog += runResult.stderr;\r\n      }\r\n      if (runResult.stderr.includes(\"runtime error:\")) {\r\n        compileLog += `\\n[Runtime Type] UndefinedBehaviorSanitizer runtime error (UB ê°€ëŠ¥ì„±)`;\r\n      }\r\n      if (runResult.error) {\r\n        const errorAny = runResult.error as any;\r\n        if (errorAny && errorAny.code === 'ETIMEDOUT') {\r\n          compileLog += `\\n[Runtime Error] Execution timed out (possible infinite loop)\\n loopCheck() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”`;\r\n        } else {\r\n          compileLog += `\\n[Runtime Error] ${runResult.error.message}`;\r\n        }\r\n      }\r\n    } else {\r\n      // ì»´íŒŒì¼ ì‹¤íŒ¨\r\n      compileLog += \"\\n\\n=== Compile Failed ===\\n\";\r\n      if (compileResult.error) {\r\n        compileLog += `[Compile Process Error] ${compileResult.error.message}\\n`;\r\n      }\r\n    }\r\n\r\n  } catch (err: any) {\r\n    // ì˜ˆìƒì¹˜ ëª»í•œ ì—ëŸ¬\r\n    compileLog += \"\\n\\n=== Unexpected Error ===\\n\";\r\n    compileLog += err.message || err.toString();\r\n  }\r\n  // ë””ë²„ê¹…ìš© ë¡œê·¸ (í•„ìš”ì‹œ ì£¼ì„ í•´ì œ)\r\n  // console.log(\"=== \uD83E\uDDFE GCC + Runtime ë¡œê·¸ ===\");\r\n  // console.log(compileLog);\r\n\r\n  const parsed = CompilerResultParser.parseCompilerOutput(compileLog);\r\n  const summary = CompilerResultParser.generateSummary(parsed);\r\n  return afterDebug(summary, parsed.errors, parsed.warnings);\r\n}\r\n\r\n\r\n\r\nexport async function loopCheck({ code }: { code: string }) {\r\n  const prompt = `Review the following loop code and determine if its termination condition is valid. If there is an issue, provide a concise explanation and a corrected example snippet. Respond in Korean, focusing on the core insights.\r\n  \\`\\`\\`${code}\\`\\`\\``;\r\n\r\n  const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\r\n  const result = await model.generateContent(prompt);\r\n  return { result: result.response.text() };\r\n}\r\n\r\n\r\n// sohyeon's hw\r\nexport async function traceVar({ code }: { code: string }) {\r\n  const prompt = `Analyze the following code snippet and trace the flow of variables.\r\n\r\n  **Response Format:**\r\n  - **If no variables are used in the code,** please respond only with \"No variables are used.\"\r\n  - **If variables are used in the code,** please provide a concise explanation for each variable in the following format:\r\n    \\`\\`\\`\r\n    Variable 1: [Variable Name]\r\n    - [Concise and intuitive explanation of variable value changes]\r\n    Variable 2: [Variable Name]\r\n    - [Concise and intuitive explanation of variable value changes]\r\n    ...\r\n    \\`\\`\\`\r\n    The explanation should be short and intuitive, but clearly explain the changes in variable values.\r\n\r\n  Please respond in Korean.\r\n\r\n  \\`\\`\\`${code}\\`\\`\\``;\r\n  const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\r\n  const result = await model.generateContent(prompt);\r\n  return { variableTrace: result.response.text() };\r\n}\r\n\r\n// jimin's hw\r\nexport async function testBreak({ codeSnippet }: { codeSnippet: string }) {\r\n  const prompt = buildPrompt(codeSnippet);\r\n\r\n  const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\r\n  const result = await model.generateContent(prompt);\r\n\r\n  const responseText = result.response.text().trim();\r\n\r\n  try {\r\n    const parsed = JSON.parse(responseText);\r\n    return parsed;\r\n  } catch (err) {\r\n    throw new Error(`Failed to parse model output as JSON:\\n${responseText}`);\r\n  }\r\n}\r\n\r\nfunction buildPrompt(codeSnippet: string): string {\r\n  return `\r\nYou are a static analysis expert specializing in detecting undefined behavior and runtime bugs in C/C++ code.\r\n\r\nAnalyze the following code snippet or function and determine whether it is likely to cause any critical issue during execution.\r\n\r\nThe issues you must consider include (but are not limited to):\r\n\r\n- Null pointer dereference\r\n- Division by zero\r\n- Out-of-bound memory access\r\n- Use of uninitialized variables\r\n- Use-after-free\r\n- Memory leaks (e.g., missing free or delete)\r\n- Infinite or non-terminating loops\r\n- Recursion with no base case\r\n- Dangerous type coercion or overflow\r\n- Dead code or unreachable branches\r\n\r\nIf the code is buggy, explain the reason and how to fix it.\r\nIf the code is safe, explain why it does not cause any problem.\r\n\r\nâš \uFE0F Your response must strictly follow this JSON format:\r\n\r\n{\r\n  \"isBuggy\": true or false,\r\n  \"reason\": \"string (describe why the code is buggy or safe)\",\r\n  \"suggestion\": \"string (how to fix, or null if safe)\"\r\n}\r\n\r\nâ— Do not include anything outside this JSON object.\r\nDo not add comments, explanations, markdown formatting, or any additional prose.\r\n\r\nNow analyze the following code:\r\n\r\n${codeSnippet}\r\n  `.trim();\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/agentica/handlers.ts b/src/agentica/handlers.ts
--- a/src/agentica/handlers.ts	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
+++ b/src/agentica/handlers.ts	(date 1754124108217)
@@ -193,6 +193,65 @@
   }
 }
 
+// moonjeong's hw1
+export async function beforeDebug({ code }: { code: string }) {
+  const prompt = `ë‹¹ì‹ ì€ C ì–¸ì–´ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ëŠ” ì‚¬ìš©ìê°€ ì‘ì„± ì¤‘ì¸ ì „ì²´ ì½”ë“œì…ë‹ˆë‹¤.
+
+ì½”ë“œê°€ ì•„ì§ ì‹¤í–‰ë˜ê¸° ì „ ìƒíƒœë¡œ, ë¬¸ë²• ì˜¤ë¥˜, ëˆ„ë½ëœ ì„¸ë¯¸ì½œë¡ , ì„ ì–¸ë˜ì§€ ì•Šì€ ë³€ìˆ˜, í•¨ìˆ˜ í˜¸ì¶œ ì˜¤ë¥˜, ëˆ„ë½ëœ return ë¬¸ ë“± ëª…ë°±í•œ ë¬¸ì œì ì´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.
+
+ê°€ëŠ¥í•˜ë©´ ì¤„ ë²ˆí˜¸ë¥¼ í¬í•¨í•´ ìˆ˜ì • ì œì•ˆì„ í•´ì£¼ì„¸ìš”. ì•„ì§ ì‘ì„± ì¤‘ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ ì—°í•˜ê²Œ íŒë‹¨í•´ì£¼ì„¸ìš”.
+
+ë‹µë³€ì€ ë‹¤ìŒ í˜•ì‹ì„ ì§€ì¼œì£¼ì„¸ìš”:
+
+[Result] ë¬¸ì œê°€ ê°ì§€ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ (ì˜ˆ: "ë¬¸ì œ ìˆìŒ", "ë¬¸ì œ ì—†ìŒ")
+[Issues] ì¤„ ë²ˆí˜¸ì™€ í•¨ê»˜ ë°œê²¬ëœ ì£¼ìš” ë¬¸ì œ ìš”ì•½ (ì—†ìœ¼ë©´ "ì—†ìŒ")
+[Suggestions] ê° ë¬¸ì œì— ëŒ€í•œ ê°„ë‹¨í•œ ìˆ˜ì • ì œì•ˆ (ì—†ìœ¼ë©´ "ì—†ìŒ")
+
+ì•„ë˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤:
+  \`\`\`${code}\`\`\``;
+
+  const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
+  const result = await model.generateContent(prompt);
+  return { result: result.response.text() };
+}
+
+// moonjeong's hw2
+export async function inProgressDebug(code: string): Promise<string> {
+  const prompt = `
+ë‹¹ì‹ ì€ C ì–¸ì–´ ë””ë²„ê¹… ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
+
+ì‚¬ìš©ìê°€ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë„ì¤‘ì…ë‹ˆë‹¤. ì•„ì§ ì™„ì„±ë˜ì§€ ì•Šì€ ì½”ë“œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
+í˜„ì¬ê¹Œì§€ ì‘ì„±ëœ ì½”ë“œì—ì„œ ë‹¤ìŒì„ ì°¾ì•„ì£¼ì„¸ìš”:
+
+1. ë¬¸ë²• ì˜¤ë¥˜ë‚˜ ê´„í˜¸ ëˆ„ë½
+2. ë³€ìˆ˜ ì„ ì–¸ ëˆ„ë½
+3. íë¦„ìƒ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ë¶€ë¶„
+4. ëª…í™•í•œ ê°œì„ ì ì´ ìˆëŠ” ì½”ë“œ
+
+ğŸ¯ [ì‘ë‹µ í˜•ì‹]
+[ë¬¸ì œ ìš”ì•½]
+- ë¬¸ì œ1
+- ë¬¸ì œ2 (ìˆë‹¤ë©´)
+
+[ê°œì„  ì œì•ˆ]
+- ì½”ë“œ ì¼ë¶€ ìˆ˜ì • ì˜ˆì‹œ ë˜ëŠ” ê°„ê²°í•œ ì„¤ëª…
+
+ì£¼ì˜: ì½”ë“œê°€ ì™„ì „í•˜ì§€ ì•Šì•„ë„ ë¶„ì„í•´ì•¼ í•©ë‹ˆë‹¤.
+
+ì‘ì„± ì¤‘ì¸ ì½”ë“œ:
+\`\`\`c
+${code}
+\`\`\`
+`.trim();
+
+  const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
+  const result = await model.generateContent(prompt);
+  return result.response.text().trim();
+}
+
+
+
+
 function buildPrompt(codeSnippet: string): string {
   return `
 You are a static analysis expert specializing in detecting undefined behavior and runtime bugs in C/C++ code.
Index: src/agentica/server.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\r\nimport { WebSocketServer } from \"tgrid\";\r\nimport { SGlobal } from \"../config/SGlobal\";\r\nimport { afterDebug, afterDebugFromCode, loopCheck, traceVar, testBreak } from \"./handlers\";\r\n\r\nconst main = async (): Promise<void> => {\r\n  const port = Number(SGlobal.env.PORT);\r\n  const server = new WebSocketServer();\r\n\r\n  console.log(`Gemini function server running on port ${port}`);\r\n  await server.open(port, async (acceptor) => {\r\n    await acceptor.accept({\r\n      afterDebug,\r\n      afterDebugFromCode,\r\n      loopCheck,\r\n      traceVar,\r\n      testBreak\r\n    });\r\n    console.log(`Connection accepted: ${acceptor.path}`);\r\n    console.log(`Available controllers: afterDebug, loopCheck, traceVar, testBreak`);\r\n  });\r\n  console.log(`WebSocket server running on port ${port}.`);\r\n};\r\nmain().catch(console.error);\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/agentica/server.ts b/src/agentica/server.ts
--- a/src/agentica/server.ts	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
+++ b/src/agentica/server.ts	(date 1754124230568)
@@ -1,7 +1,7 @@
 
 import { WebSocketServer } from "tgrid";
 import { SGlobal } from "../config/SGlobal";
-import { afterDebug, afterDebugFromCode, loopCheck, traceVar, testBreak } from "./handlers";
+import { afterDebug, afterDebugFromCode, loopCheck, traceVar, testBreak, inProgressDebug, beforeDebug } from "./handlers";
 
 const main = async (): Promise<void> => {
   const port = Number(SGlobal.env.PORT);
@@ -14,10 +14,12 @@
       afterDebugFromCode,
       loopCheck,
       traceVar,
-      testBreak
+      testBreak,
+      inProgressDebug,
+      beforeDebug
     });
     console.log(`Connection accepted: ${acceptor.path}`);
-    console.log(`Available controllers: afterDebug, loopCheck, traceVar, testBreak`);
+    console.log(`Available controllers: afterDebug, loopCheck, traceVar, testBreak, inProgressDebug, beforeDebug`);
   });
   console.log(`WebSocket server running on port ${port}.`);
 };
Index: test_driver.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\r\nimport \"dotenv/config\";\r\nimport * as fs from \"fs\";\r\nimport * as path from \"path\";\r\n\r\nimport { runLoopCheck } from \"./src/testcode/test_loopCheck\";\r\nimport { runTraceVar } from \"./src/testcode/test_traceVar\";\r\n\r\nasync function main() {\r\n  const args = process.argv.slice(2);\r\n\r\n  if (args.length === 0) {\r\n    console.error(\"âŒ ë¶„ì„í•  íŒŒì¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš” .\");\r\n    console.error(\"ì˜ˆì‹œ: npx ts-node test_driver.ts test.c\");\r\n    process.exit(1);\r\n  }\r\n\r\n  const filename = args[0];\r\n  const filepath = path.resolve(process.cwd(), filename);\r\n\r\n  if (!fs.existsSync(filepath)) {\r\n    console.error(`âŒ íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤: ${filepath}`);\r\n    process.exit(1);\r\n  }\r\n\r\n  const code = fs.readFileSync(filepath, \"utf-8\");\r\n\r\n  console.log(`âœ… '${filename}'ì— ëŒ€í•œ ë¶„ì„ì„ ì‹œì‘í•©ë‹ˆë‹¤.\\n`);\r\n\r\n  await runLoopCheck(code);\r\n  await runTraceVar(code);\r\n\r\n  console.log(\"\\nâœ… ëª¨ë“  ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\");\r\n}\r\n\r\nmain();\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/test_driver.ts b/test_driver.ts
--- a/test_driver.ts	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
+++ b/test_driver.ts	(date 1754071869276)
@@ -3,8 +3,13 @@
 import * as fs from "fs";
 import * as path from "path";
 
+import { runBeforeDebug } from "./src/testcode/test_beforeDebug";
 import { runLoopCheck } from "./src/testcode/test_loopCheck";
 import { runTraceVar } from "./src/testcode/test_traceVar";
+//import { runAfterDebug } from "./src/testcode/test_afterDebug";
+//import { runDebugHint } from "./src/testcode/test_debugHint";
+//import { runDiagnoseError } from "./src/testcode/test_diagnoseError";
+
 
 async function main() {
   const args = process.argv.slice(2);
@@ -27,8 +32,13 @@
 
   console.log(`âœ… '${filename}'ì— ëŒ€í•œ ë¶„ì„ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n`);
 
+  await runBeforeDebug(code);
   await runLoopCheck(code);
   await runTraceVar(code);
+  //await runAfterDebug(code);
+  //await runDebugHint(code);
+  //await runDiagnoseError(code);
+
 
   console.log("\nâœ… ëª¨ë“  ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
 }
Index: src/agentica/functions.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { CompilerError, CompilerWarning } from \"../parsing/compilerResultParser\";\r\nimport { loopCheck, testBreak, traceVar, afterDebug } from \"./handlers\";\r\nimport typia from \"typia\";\r\n\r\nexport class ErrorDiagnosisService {\r\n  \r\n  async loopCheck({ code }: { code: string }) {\r\n    return loopCheck({ code });\r\n  }\r\n  async traceVar({ code }: { code: string }) {\r\n    return traceVar({ code });\r\n  }\r\n  async testBreak({ codeSnippet }: { codeSnippet: string }) {\r\n    return testBreak({ codeSnippet });\r\n  }\r\n  async afterDebug({ logSummary, errors, warnings }: { logSummary: string, errors: CompilerError[], warnings: CompilerWarning[] }) {\r\n    return afterDebug(logSummary, errors, warnings);\r\n  }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/agentica/functions.ts b/src/agentica/functions.ts
--- a/src/agentica/functions.ts	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
+++ b/src/agentica/functions.ts	(date 1754124181917)
@@ -1,5 +1,5 @@
 import { CompilerError, CompilerWarning } from "../parsing/compilerResultParser";
-import { loopCheck, testBreak, traceVar, afterDebug } from "./handlers";
+import {loopCheck, testBreak, traceVar, afterDebug, inProgressDebug, beforeDebug } from "./handlers";
 import typia from "typia";
 
 export class ErrorDiagnosisService {
@@ -16,4 +16,19 @@
   async afterDebug({ logSummary, errors, warnings }: { logSummary: string, errors: CompilerError[], warnings: CompilerWarning[] }) {
     return afterDebug(logSummary, errors, warnings);
   }
+  async inProgressDebug({ code }: { code: string }) {
+    return inProgressDebug(code);
+  }
+  async beforeDebug({ code }: { code: string }) {
+    return beforeDebug({ code });
+  }
+  /*
+  async debugHint({ code }: { code: string }) {
+    return beforeDebug({ code });
+  }
+  async diagnoseError({ code }: { code: string }) {
+    return beforeDebug({ code });
+  }
+
+   */
 }
\ No newline at end of file
Index: src/testcode/test_debugHint.ts
===================================================================
diff --git a/src/testcode/test_debugHint.ts b/src/testcode/test_debugHint.ts
deleted file mode 100644
--- a/src/testcode/test_debugHint.ts	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
+++ /dev/null	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
@@ -1,7 +0,0 @@
-import { ErrorDiagnosisService } from "../agentica/functions";
-
-export async function runDebugHint(code: string) {
-  const service = new ErrorDiagnosisService();
-  const result = await service.debugHint({ output: code });
-  console.log("[ë””ë²„ê·¸ íŒíŠ¸ ê²°ê³¼]", result.hint);
-} 
\ No newline at end of file
Index: src/testcode/test_diagnoseError.ts
===================================================================
diff --git a/src/testcode/test_diagnoseError.ts b/src/testcode/test_diagnoseError.ts
deleted file mode 100644
--- a/src/testcode/test_diagnoseError.ts	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
+++ /dev/null	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
@@ -1,8 +0,0 @@
-import { ErrorDiagnosisService } from "../agentica/functions";
-
-export async function runDiagnoseError(code: string) {
-  const service = new ErrorDiagnosisService();
-  // ì»´íŒŒì¼ ì—ëŸ¬ ë©”ì‹œì§€ ì˜ˆì‹œë¡œ codeë¥¼ ê·¸ëŒ€ë¡œ ì „ë‹¬
-  const result = await service.diagnoseError({ errorMessage: code });
-  console.log("[ì—ëŸ¬ ì§„ë‹¨ ê²°ê³¼]", result.explanation);
-} 
\ No newline at end of file
Index: test2.c
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/test2.c b/test2.c
new file mode 100644
--- /dev/null	(date 1754124415850)
+++ b/test2.c	(date 1754124415850)
@@ -0,0 +1,9 @@
+#include <stdio.h>
+
+int main() {
+    int a = 5;
+    int b = 0;
+
+    printf("Result: %d", a / b
+
+    return 0;
Index: .idea/prettier.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/prettier.xml b/.idea/prettier.xml
new file mode 100644
--- /dev/null	(date 1752910109759)
+++ b/.idea/prettier.xml	(date 1752910109759)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="PrettierConfiguration">
+    <option name="myConfigurationMode" value="AUTOMATIC" />
+  </component>
+</project>
\ No newline at end of file
Index: src/parsing/loopExtractor.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><\r\n/**\r\n * ì½”ë“œ ë¬¸ìì—´ì—ì„œ for/while ë£¨í”„ ë¸”ë¡ë§Œ ì¶”ì¶œ (ê°„ë‹¨í•œ ì •ê·œì‹ ê¸°ë°˜)\r\n * ë³µì¡í•œ ì¤‘ì²©/ì£¼ì„/ë¬¸ìì—´ ë‚´ ë£¨í”„ëŠ” ì™„ë²½íˆ ì²˜ë¦¬í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŒ\r\n */\r\nexport function extractLoopsFromCode(code: string): string[] {\r\n  const loopRegex = /(for\\s*\\([^)]*\\)\\s*\\{[\\s\\S]*?\\}|while\\s*\\([^)]*\\)\\s*\\{[\\s\\S]*?\\})/g;\r\n  const matches = code.match(loopRegex);\r\n  return matches ? matches : [];\r\n\r\n} 
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/parsing/loopExtractor.ts b/src/parsing/loopExtractor.ts
--- a/src/parsing/loopExtractor.ts	(revision 02a80b488a58efc8b0975f8d35d5cab058562115)
+++ b/src/parsing/loopExtractor.ts	(date 1753603815587)
@@ -1,4 +1,4 @@
-<
+
 /**
  * ì½”ë“œ ë¬¸ìì—´ì—ì„œ for/while ë£¨í”„ ë¸”ë¡ë§Œ ì¶”ì¶œ (ê°„ë‹¨í•œ ì •ê·œì‹ ê¸°ë°˜)
  * ë³µì¡í•œ ì¤‘ì²©/ì£¼ì„/ë¬¸ìì—´ ë‚´ ë£¨í”„ëŠ” ì™„ë²½íˆ ì²˜ë¦¬í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŒ
Index: .idea/.gitignore
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/.gitignore b/.idea/.gitignore
new file mode 100644
--- /dev/null	(date 1752910088742)
+++ b/.idea/.gitignore	(date 1752910088742)
@@ -0,0 +1,8 @@
+# ë””í´íŠ¸ ë¬´ì‹œëœ íŒŒì¼
+/shelf/
+/workspace.xml
+# ì—ë””í„° ê¸°ë°˜ HTTP í´ë¼ì´ì–¸íŠ¸ ìš”ì²­
+/httpRequests/
+# Datasource local storage ignored files
+/dataSources/
+/dataSources.local.xml
Index: .idea/DebugMate2.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/DebugMate2.iml b/.idea/DebugMate2.iml
new file mode 100644
--- /dev/null	(date 1754124409130)
+++ b/.idea/DebugMate2.iml	(date 1754124409130)
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<module type="JAVA_MODULE" version="4">
+  <component name="NewModuleRootManager" inherit-compiler-output="true">
+    <exclude-output />
+    <content url="file://$MODULE_DIR$">
+      <sourceFolder url="file://$MODULE_DIR$" isTestSource="false" />
+    </content>
+    <orderEntry type="inheritedJdk" />
+    <orderEntry type="sourceFolder" forTests="false" />
+  </component>
+</module>
\ No newline at end of file
Index: .idea/vcs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/vcs.xml b/.idea/vcs.xml
new file mode 100644
--- /dev/null	(date 1752910109775)
+++ b/.idea/vcs.xml	(date 1752910109775)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="VcsDirectoryMappings">
+    <mapping directory="" vcs="Git" />
+  </component>
+</project>
\ No newline at end of file
Index: .idea/modules.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/modules.xml b/.idea/modules.xml
new file mode 100644
--- /dev/null	(date 1752910109759)
+++ b/.idea/modules.xml	(date 1752910109759)
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="ProjectModuleManager">
+    <modules>
+      <module fileurl="file://$PROJECT_DIR$/.idea/DebugMate2.iml" filepath="$PROJECT_DIR$/.idea/DebugMate2.iml" />
+    </modules>
+  </component>
+</project>
\ No newline at end of file
Index: src/testcode/test_beforeDebug.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/testcode/test_beforeDebug.ts b/src/testcode/test_beforeDebug.ts
new file mode 100644
--- /dev/null	(date 1754034176287)
+++ b/src/testcode/test_beforeDebug.ts	(date 1754034176287)
@@ -0,0 +1,7 @@
+import { beforeDebug } from "../agentica/handlers";
+
+export async function runBeforeDebug(code: string) {
+    const { result } = await beforeDebug({ code });
+    console.log("ğŸ§ª [beforeDebug ê²°ê³¼]");
+    console.log(result);
+}
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
new file mode 100644
--- /dev/null	(date 1752910109759)
+++ b/.idea/misc.xml	(date 1752910109759)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_23" default="true" project-jdk-name="openjdk-23" project-jdk-type="JavaSDK">
+    <output url="file://$PROJECT_DIR$/out" />
+  </component>
+</project>
\ No newline at end of file
Index: src/testcode/test_inProgressDebug.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/testcode/test_inProgressDebug.ts b/src/testcode/test_inProgressDebug.ts
new file mode 100644
--- /dev/null	(date 1754124255909)
+++ b/src/testcode/test_inProgressDebug.ts	(date 1754124255909)
@@ -0,0 +1,24 @@
+import fs from "fs";
+import path from "path";
+import { inProgressDebug } from "../agentica/handlers";
+
+async function main() {
+    const args = process.argv.slice(2);
+    if (args.length === 0) {
+        console.error("âŒ ì‘ì„± ì¤‘ì¸ ì½”ë“œ íŒŒì¼ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
+        process.exit(1);
+    }
+
+    const filepath = path.resolve(process.cwd(), args[0]);
+    if (!fs.existsSync(filepath)) {
+        console.error(`âŒ íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤: ${filepath}`);
+        process.exit(1);
+    }
+
+    const code = fs.readFileSync(filepath, "utf-8");
+    const result = await inProgressDebug(code);
+    console.log("ğŸ“ [ì‘ì„± ì¤‘ ë””ë²„ê¹… ê²°ê³¼]");
+    console.log(result);
+}
+
+main();
